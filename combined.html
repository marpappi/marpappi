<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" href="./assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" href="./assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" href="./assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" href="./apple-touch-icon.png" />
    <link rel="manifest" href="./manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>notebook.py</marimo-filename>
    <marimo-mode data-mode='read' hidden></marimo-mode>
    <marimo-version data-version='0.13.0' hidden></marimo-version>
    <marimo-user-config data-config='{"completion": {"activate_on_typing": true, "copilot": false}, "display": {"code_editor_font_size": 14, "theme": "light", "default_width": "medium", "default_table_page_size": 10, "cell_output": "above", "dataframes": "rich"}, "formatting": {"line_length": 79}, "keymap": {"preset": "default", "overrides": {}}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "reactive_tests": true, "on_cell_change": "autorun", "watcher_on_save": "lazy", "output_max_bytes": 8000000, "std_stream_max_bytes": 1000000}, "save": {"autosave": "off", "autosave_delay": 1000, "format_on_save": false}, "package_management": {"manager": "pip"}, "server": {"browser": "default", "follow_symlink": false}, "language_servers": {"pylsp": {"enabled": true, "enable_mypy": true, "enable_ruff": true, "enable_flake8": false, "enable_pydocstyle": false, "enable_pylint": false, "enable_pyflakes": false}}, "snippets": {"custom_paths": [], "include_default_snippets": true}}' data-overrides='{}' hidden></marimo-user-config>
    <marimo-app-config data-config='{"width": "medium", "sql_output": "auto"}' hidden></marimo-app-config>
    <marimo-server-token data-token='123' hidden></marimo-server-token>
    <title>combined</title>
    <script type="module" crossorigin src="./assets/index-B2CDK72T.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-CsvvdqXP.css">
  <marimo-wasm hidden=""></marimo-wasm>
    <script>
        if (window.location.protocol === 'file:') {
            alert('Warning: This file must be served by an HTTP server to function correctly.');
        }
    </script>
    
    <style>
        #save-button {
            display: none !important;
        }
        #filename-input {
            display: none !important;
        }
    </style>
    <marimo-code hidden="" data-show-code="false">import%20marimo%0A%0A__generated_with%20%3D%20%220.13.0%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20stages_df%20%3D%20pd.read_csv('https%3A%2F%2Fraw.githubusercontent.com%2Fmarpappi%2Fdatavisualisation%2F81f54047ba886aef0e93bf631aa4b47707cfd85e%2Ftdf_stages.csv')%0A%20%20%20%20return%20pd%2C%20stages_df%0A%0A%0A%40app.cell%0Adef%20_(pd%2C%20stages_df)%3A%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20import%20plotly.graph_objects%20as%20go%0A%20%20%20%20import%20plotly.express%20as%20px%0A%0A%20%20%20%20%23%20Load%20the%20stage%20data%0A%0A%20%20%20%20%23%20Create%20stage%20type%20mapping%20based%20on%20the%20provided%20groupings%0A%20%20%20%20stage_type_mapping%20%3D%20%7B%0A%20%20%20%20%20%20%20%20'Flat%20stage'%3A%20'Sprinter%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Plain%20stage'%3A%20'Sprinter%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Medium%20mountain%20stage'%3A%20'Mountain%20Challenge%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Mountain%20stage'%3A%20'Mountain%20Challenge%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Individual%20time%20trial'%3A%20'Chronometer%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Team%20time%20trial'%3A%20'Chronometer%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Mountain%20time%20trial'%3A%20'Chronometer%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Stage%20with%20mountain(s)'%3A%20'High%20Alpine%20Stages'%2C%0A%20%20%20%20%20%20%20%20'High%20mountain%20stage'%3A%20'High%20Alpine%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Hilly%20stage'%3A%20'Classics-Style%20Stages'%2C%0A%20%20%20%20%20%20%20%20'Flat%20cobblestone%20stage'%3A%20'Classics-Style%20Stages'%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%20Apply%20the%20mapping%20to%20create%20a%20new%20column%0A%20%20%20%20stages_df%5B'Stage_Group'%5D%20%3D%20stages_df%5B'Type'%5D.map(stage_type_mapping)%0A%0A%20%20%20%20%23%20Group%20stages%20by%20group%20type%20and%20winner%2C%20count%20occurrences%0A%20%20%20%20stage_winner_counts%20%3D%20stages_df.groupby(%5B'Stage_Group'%2C%20'Winner'%2C%20'Winner_Country'%5D).size().reset_index(name%3D'count')%0A%0A%20%20%20%20%23%20Create%20a%20color%20mapping%20for%20nationalities%0A%20%20%20%20countries%20%3D%20sorted(%5Bc%20for%20c%20in%20stages_df%5B'Winner_Country'%5D.unique()%20if%20pd.notna(c)%5D)%0A%20%20%20%20color_scale%20%3D%20px.colors.qualitative.Plotly%0A%20%20%20%20country_to_color%20%3D%20%7Bcountry%3A%20color_scale%5Bi%20%25%20len(color_scale)%5D%20for%20i%2C%20country%20in%20enumerate(countries)%7D%0A%0A%20%20%20%20%23%20Create%20unique%20IDs%20to%20avoid%20duplicate%20label%20issues%0A%20%20%20%20unique_id%20%3D%200%0A%20%20%20%20ids%20%3D%20%5B%5D%0A%20%20%20%20labels%20%3D%20%5B%5D%0A%20%20%20%20parents%20%3D%20%5B%5D%0A%20%20%20%20values%20%3D%20%5B%5D%0A%20%20%20%20colors%20%3D%20%5B%5D%0A%0A%20%20%20%20%23%20Add%20root%0A%20%20%20%20ids.append(f%22id_%7Bunique_id%7D%22)%0A%20%20%20%20unique_id%20%2B%3D%201%0A%20%20%20%20labels.append(%22Tour%20de%20France%22)%0A%20%20%20%20parents.append(%22%22)%0A%20%20%20%20values.append(1)%20%20%23%20Value%20doesn't%20matter%20for%20root%0A%20%20%20%20colors.append(%22%23ffffff%22)%20%20%23%20White%20for%20root%0A%0A%20%20%20%20%23%20Dictionary%20to%20store%20ID%20mappings%0A%20%20%20%20id_map%20%3D%20%7B%22Tour%20de%20France%22%3A%20ids%5B0%5D%7D%0A%0A%20%20%20%20%23%20Add%20stage%20groups%20as%20first%20level%0A%20%20%20%20for%20stage_group%20in%20sorted(stage_winner_counts%5B'Stage_Group'%5D.unique())%3A%0A%20%20%20%20%20%20%20%20if%20pd.notna(stage_group)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20id_val%20%3D%20f%22id_%7Bunique_id%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20unique_id%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20ids.append(id_val)%0A%20%20%20%20%20%20%20%20%20%20%20%20id_map%5Bstage_group%5D%20%3D%20id_val%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20labels.append(stage_group)%0A%20%20%20%20%20%20%20%20%20%20%20%20parents.append(id_map%5B%22Tour%20de%20France%22%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Value%20is%20the%20total%20number%20of%20stage%20wins%20of%20this%20type%0A%20%20%20%20%20%20%20%20%20%20%20%20values.append(stage_winner_counts%5Bstage_winner_counts%5B'Stage_Group'%5D%20%3D%3D%20stage_group%5D%5B'count'%5D.sum())%0A%20%20%20%20%20%20%20%20%20%20%20%20colors.append(%22%23cccccc%22)%20%20%23%20Gray%20for%20stage%20types%0A%0A%20%20%20%20%23%20Add%20winners%20as%20leaves%0A%20%20%20%20for%20_%2C%20rows%20in%20stage_winner_counts.iterrows()%3A%0A%20%20%20%20%20%20%20%20stage_group%20%3D%20rows%5B'Stage_Group'%5D%0A%20%20%20%20%20%20%20%20winner%20%3D%20rows%5B'Winner'%5D%0A%20%20%20%20%20%20%20%20country%20%3D%20rows%5B'Winner_Country'%5D%0A%20%20%20%20%20%20%20%20count%20%3D%20rows%5B'count'%5D%0A%0A%20%20%20%20%20%20%20%20if%20pd.notna(stage_group)%20and%20pd.notna(winner)%20and%20stage_group%20in%20id_map%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20id_val%20%3D%20f%22id_%7Bunique_id%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20unique_id%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20ids.append(id_val)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20labels.append(f%22%7Bwinner%7D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20parents.append(id_map%5Bstage_group%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20values.append(count)%0A%20%20%20%20%20%20%20%20%20%20%20%20colors.append(country_to_color.get(country%2C%20%22%23999999%22)%20if%20pd.notna(country)%20else%20%22%23999999%22)%0A%0A%20%20%20%20%23%20Create%20the%20sunburst%20chart%20(circular%20treemap)%0A%20%20%20%20fig%20%3D%20go.Figure(go.Sunburst(%0A%20%20%20%20%20%20%20%20ids%3Dids%2C%0A%20%20%20%20%20%20%20%20labels%3Dlabels%2C%0A%20%20%20%20%20%20%20%20parents%3Dparents%2C%0A%20%20%20%20%20%20%20%20values%3Dvalues%2C%0A%20%20%20%20%20%20%20%20branchvalues%3D%22remainder%22%2C%20%20%23%20Use%20remainder%20instead%20of%20total%20to%20avoid%20empty%20visualization%20issues%0A%20%20%20%20%20%20%20%20marker%3Ddict(colors%3Dcolors)%2C%0A%20%20%20%20%20%20%20%20hovertemplate%3D'%3Cb%3E%25%7Blabel%7D%3C%2Fb%3E%3Cbr%3EWins%3A%20%25%7Bvalue%7D%3Cextra%3E%3C%2Fextra%3E'%2C%0A%20%20%20%20%20%20%20%20textinfo%3D%22label%22%0A%20%20%20%20))%0A%0A%20%20%20%20%23%20Update%20layout%0A%20%20%20%20fig.update_layout(%0A%20%20%20%20%20%20%20%20title%3D%22Tour%20de%20France%20Stage%20Winners%20by%20Type%22%2C%0A%20%20%20%20%20%20%20%20margin%3Ddict(t%3D50%2C%20l%3D25%2C%20r%3D25%2C%20b%3D25)%2C%0A%20%20%20%20%20%20%20%20width%3D800%2C%0A%20%20%20%20%20%20%20%20height%3D800%0A%20%20%20%20)%0A%0A%20%20%20%20fig.show()%0A%0A%20%20%20%20return%20(stage_winner_counts%2C)%0A%0A%0A%40app.cell%0Adef%20_(stage_winner_counts)%3A%0A%20%20%20%20stage_winner_counts%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20matplotlib.pyplot%20as%20plt%0A%20%20%20%20import%20matplotlib.patches%20as%20patches%0A%0A%20%20%20%20def%20draw_bike()%3A%0A%20%20%20%20%20%20%20%20fig%2C%20ax%20%3D%20plt.subplots(figsize%3D(10%2C%206))%0A%0A%20%20%20%20%20%20%20%20%23%20Define%20positions%20for%20the%20wheels%0A%20%20%20%20%20%20%20%20back_wheel_center%20%3D%20(2%2C%202)%20%20%23%20Back%20wheel%20center%0A%20%20%20%20%20%20%20%20front_wheel_center%20%3D%20(8%2C%202)%20%20%23%20Front%20wheel%20center%0A%20%20%20%20%20%20%20%20wheel_radius%20%3D%202%20%20%23%20Radius%20for%20both%20wheels%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20the%20wheels%0A%20%20%20%20%20%20%20%20back_wheel%20%3D%20plt.Circle(back_wheel_center%2C%20wheel_radius%2C%20fill%3DFalse%2C%20color%3D'black'%2C%20linewidth%3D2)%0A%20%20%20%20%20%20%20%20front_wheel%20%3D%20plt.Circle(front_wheel_center%2C%20wheel_radius%2C%20fill%3DFalse%2C%20color%3D'black'%2C%20linewidth%3D2)%0A%20%20%20%20%20%20%20%20ax.add_artist(back_wheel)%0A%20%20%20%20%20%20%20%20ax.add_artist(front_wheel)%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20the%20frame%20(triangular%20structure)%0A%20%20%20%20%20%20%20%20seat_tube_top%20%3D%20(4.5%2C%205)%20%20%23%20Top%20of%20the%20seat%20tube%0A%20%20%20%20%20%20%20%20ax.plot(%5Bback_wheel_center%5B0%5D%2C%20seat_tube_top%5B0%5D%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bback_wheel_center%5B1%5D%2C%20seat_tube_top%5B1%5D%5D%2C%20'k-'%2C%20lw%3D2)%20%20%23%20Seat%20tube%0A%20%20%20%20%20%20%20%20ax.plot(%5Bseat_tube_top%5B0%5D%2C%20front_wheel_center%5B0%5D%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bseat_tube_top%5B1%5D%2C%20front_wheel_center%5B1%5D%5D%2C%20'k-'%2C%20lw%3D2)%20%20%23%20Top%20tube%0A%20%20%20%20%20%20%20%20ax.plot(%5Bback_wheel_center%5B0%5D%2C%20front_wheel_center%5B0%5D%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bback_wheel_center%5B1%5D%2C%20front_wheel_center%5B1%5D%5D%2C%20'k-'%2C%20lw%3D2)%20%20%23%20Bottom%20tube%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20the%20seat%0A%20%20%20%20%20%20%20%20seat_width%20%3D%201.5%0A%20%20%20%20%20%20%20%20seat_height%20%3D%200.3%0A%20%20%20%20%20%20%20%20seat_bottom_left%20%3D%20(seat_tube_top%5B0%5D%20-%20seat_width%20%2F%202%2C%20seat_tube_top%5B1%5D)%0A%20%20%20%20%20%20%20%20seat%20%3D%20patches.Rectangle(seat_bottom_left%2C%20seat_width%2C%20seat_height%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linewidth%3D2%2C%20edgecolor%3D'black'%2C%20facecolor%3D'none')%0A%20%20%20%20%20%20%20%20ax.add_patch(seat)%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20the%20pedals%0A%20%20%20%20%20%20%20%20pedal_center%20%3D%20((back_wheel_center%5B0%5D%20%2B%20front_wheel_center%5B0%5D)%20%2F%202%2C%20back_wheel_center%5B1%5D)%0A%20%20%20%20%20%20%20%20pedal_radius%20%3D%200.3%0A%20%20%20%20%20%20%20%20pedal_circle%20%3D%20plt.Circle(pedal_center%2C%20pedal_radius%2C%20fill%3DFalse%2C%20color%3D'black'%2C%20linewidth%3D2)%0A%20%20%20%20%20%20%20%20ax.add_artist(pedal_circle)%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20crank%20arms%20for%20pedals%0A%20%20%20%20%20%20%20%20ax.plot(%5Bpedal_center%5B0%5D%2C%20pedal_center%5B0%5D%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bpedal_center%5B1%5D%20-%20pedal_radius%20*%203%2C%20pedal_center%5B1%5D%20%2B%20pedal_radius%20*%203%5D%2C%20'k-'%2C%20lw%3D2)%0A%0A%20%20%20%20%20%20%20%20%23%20Draw%20the%20handlebar%2Fsteer%0A%20%20%20%20%20%20%20%20handlebar_top%20%3D%20(front_wheel_center%5B0%5D%2C%20front_wheel_center%5B1%5D%20%2B%203)%0A%20%20%20%20%20%20%20%20handlebar_width%20%3D%201.5%0A%20%20%20%20%20%20%20%20ax.plot(%5Bfront_wheel_center%5B0%5D%2C%20handlebar_top%5B0%5D%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bfront_wheel_center%5B1%5D%2C%20handlebar_top%5B1%5D%5D%2C%20'k-'%2C%20lw%3D2)%20%20%23%20Steer%20tube%0A%20%20%20%20%20%20%20%20ax.plot(%5Bhandlebar_top%5B0%5D%20-%20handlebar_width%20%2F%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handlebar_top%5B0%5D%20%2B%20handlebar_width%20%2F%202%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bhandlebar_top%5B1%5D%2C%20handlebar_top%5B1%5D%5D%2C%20'k-'%2C%20lw%3D2)%20%20%23%20Handlebar%0A%0A%20%20%20%20%20%20%20%20%23%20Set%20plot%20limits%20and%20aspect%20ratio%0A%20%20%20%20%20%20%20%20ax.set_xlim(0%2C%2010)%0A%20%20%20%20%20%20%20%20ax.set_ylim(0%2C%207)%0A%20%20%20%20%20%20%20%20ax.set_aspect('equal')%0A%0A%20%20%20%20%20%20%20%20plt.axis('off')%0A%20%20%20%20%20%20%20%20plt.show()%0A%0A%20%20%20%20%23%20Call%20the%20function%20to%20draw%20the%20bike%0A%20%20%20%20draw_bike()%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Aasync%20def%20_()%3A%0A%0A%20%20%20%20import%20sys%0A%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20if%20%22pyodide%22%20in%20sys.modules%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20import%20micropip%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20micropip.install('svg-py')%0A%20%20%20%20%20%20%20%20from%20svg%20import%20SVG%2C%20Polyline%2C%20Text%2C%20Line%0A%20%20%20%20except%20Exception%20as%20e%3A%0A%20%20%20%20%20%20%20%20print(f%22Error%20installing%20or%20importing%20SVG%3A%20%7Be%7D%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Aasync%20def%20_(pd)%3A%0A%20%20%20%20from%20pyodide.http%20import%20pyfetch%0A%20%20%20%20import%20openpyxl%0A%20%20%20%20import%20io%0A%0A%20%20%20%20async%20def%20load_excel()%3A%0A%20%20%20%20%20%20%20%20%23%20Convert%20GitHub%20URL%20to%20raw%20URL%0A%20%20%20%20%20%20%20%20raw_url%20%3D%20%22https%3A%2F%2Fraw.githubusercontent.com%2Fmarpappi%2Fdatavisualisation%2F923a9d79b837d700799f187382bfb34e6962ba32%2Fridersteamsyear.xlsx%22%0A%0A%20%20%20%20%20%20%20%20%23%20Download%20the%20file%0A%20%20%20%20%20%20%20%20response%20%3D%20await%20pyfetch(raw_url)%0A%20%20%20%20%20%20%20%20excel_data%20%3D%20await%20response.bytes()%0A%0A%20%20%20%20%20%20%20%20%23%20Read%20the%20Excel%20file%20from%20bytes%0A%20%20%20%20%20%20%20%20df%20%3D%20pd.read_excel(io.BytesIO(excel_data))%0A%20%20%20%20%20%20%20%20return%20df%0A%0A%20%20%20%20%23%20Call%20the%20async%20function%0A%20%20%20%20df%20%3D%20await%20load_excel()%0A%0A%20%20%20%20df%0A%20%20%20%20return%20(df%2C)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20%23%20Define%20the%20full%20list%20of%20team%20names%20as%20a%20multiline%20string%0A%20%20%20%20teams_text%20%3D%20%22%22%22%0A%20%20%20%20Bic%0A%20%20%20%20Molteni%0A%20%20%20%20Peugeot%20-%20BP%20-%20Michelin%0A%20%20%20%20Salvarani%0A%20%20%20%20Caballero%20-%20Laurens%0A%20%20%20%20Dr.%20Mann%20-%20Grundig%0A%20%20%20%20Faema%20-%20Faemino%0A%20%20%20%20Fagor%20-%20Mercier%20-%20Hutchinson%0A%20%20%20%20Ferretti%0A%20%20%20%20Flandria%20Mars%0A%20%20%20%20Frimatic%20-%20De%20Gribaldy%0A%20%20%20%20Kas%20-%20Kaskol%0A%20%20%20%20Scic%0A%20%20%20%20Sonolor%20-%20Lejeune%0A%20%20%20%20Willem%20II%20-%20Gazelle%0A%20%20%20%20Beaulieu%20-%20Flandria%0A%20%20%20%20De%20Gribaldy%20-%20Magniflex%20-%20Van%20Cauter%0A%20%20%20%20Gan%20-%20Mercier%20-%20Hutchinson%0A%20%20%20%20Goudsmit%20-%20Hoff%0A%20%20%20%20Rokado%0A%20%20%20%20Sonolor%0A%20%20%20%20Watney%20-%20Avia%0A%20%20%20%20Gitane%0A%20%20%20%20Brooklyn%0A%20%20%20%20Gan%20-%20Mercier%0A%20%20%20%20Carpenter%20-%20Confortluxe%20-%20Flandria%0A%20%20%20%20Frisol%20-%20Flair%20Plastics%0A%20%20%20%20Jobo%20-%20Lejeune%0A%20%20%20%20KAS%0A%20%20%20%20La%20Casera%20-%20Bahamontes%0A%20%20%20%20M.I.C.%20-%20De%20Gribaldy%20-%20Ludo%0A%20%20%20%20Merlin%20Plage%20-%20Shimano%20-%20Flandria%0A%20%20%20%20Sonolor%20-%20Gitane%0A%20%20%20%20Gitane%20-%20Campagnolo%0A%20%20%20%20Kas%20-%20Campagnolo%0A%20%20%20%20Lejeune%20-%20BP%0A%20%20%20%20TI-Raleigh%0A%20%20%20%20Peugeot%20-%20Esso%0A%20%20%20%20Jobo%20-%20Wolber%20-%20La%20France%0A%20%20%20%20Jolly%20Ceramica%0A%20%20%20%20Miko%20-%20Superia%0A%20%20%20%20Scic%20-%20Fiat%0A%20%20%20%20Super-Ser%0A%20%20%20%20Velda%20-%20Flandria%0A%20%20%20%20Teka%0A%20%20%20%20Bianchi%20-%20Campagnolo%0A%20%20%20%20Fiat%0A%20%20%20%20Frisol%20-%20Gazelle%20-%20Thirion%0A%20%20%20%20Miko%20-%20Mercier%20-%20Hutchinson%0A%20%20%20%20Peugeot%20-%20Esso%20-%20Michelin%0A%20%20%20%20La%20Redoute%20-%20Motobecane%0A%20%20%20%20Kas%0A%20%20%20%20Bianchi%20-%20Faema%0A%20%20%20%20Daf%20Trucks%0A%20%20%20%20Fiat%20-%20La%20France%0A%20%20%20%20Flandria%20-%20Ca%20Va%20Seul%0A%20%20%20%20Ijsboerke%20-%20Warncke%0A%20%20%20%20Inoxpran%0A%20%20%20%20Magniflex%20-%20Famcucine%0A%20%20%20%20Miko%20-%20Mercier%0A%20%20%20%20Renault%20-%20Gitane%0A%20%20%20%20Splendor%0A%20%20%20%20TI%20-%20Raleigh%0A%20%20%20%20Peugeot%20-%20Shell%20-%20Michelin%0A%20%20%20%20Coop%20-%20Mercier%20-%20Mavic%0A%20%20%20%20Renault%20-%20Elf%20-%20Gitane%0A%20%20%20%20Wolber%20-%20Spidel%0A%20%20%20%20Boule%20d'Or%20-%20Sunair%0A%20%20%20%20Capri%20Sonne%20-%20Campagnolo%20-%20Merckx%0A%20%20%20%20DAF%20Trucks%20-%20T%C3%A9v%C3%A9%20Blad%20-%20Rossin%0A%20%20%20%20Hoonved%20-%20Bottecchia%0A%20%20%20%20Inoxpran%20-%20Pentole%20Posate%0A%20%20%20%20Puch%20-%20Eorotex%20-%20Campagnolo%0A%20%20%20%20Sem%20-%20France%20Loire%20-%20Campagnolo%0A%20%20%20%20TI%20Raleigh%20-%20Campagnolo%0A%20%20%20%20Vermeer%20-%20Thijs%20-%20Gios%0A%20%20%20%20Wickes%20-%20Bouwmarkt%20-%20Splendor%0A%20%20%20%20Cilo%20-%20Aufina%0A%20%20%20%20Reynolds%0A%20%20%20%20Boule%20d'Or%20-%20Colnago%20-%20Campagnolo%0A%20%20%20%20Euro%20Shop%20-%20Splendor%0A%20%20%20%20Jacky%20Aernoudt%20Meubelen%20-%20Rossin%20-%20Campagnolo%0A%20%20%20%20Metauro%20Mobili%20-%20Pinarello%0A%20%20%20%20Sem%20-%20Mavic%20-%20Reydel%0A%20%20%20%20TI-Raleigh%20-%20Campagnolo%0A%20%20%20%20Varta%20-%20Colombia%0A%20%20%20%20Carrera%20-%20Inoxpran%0A%20%20%20%20La%20Redoute%0A%20%20%20%20Panasonic%20-%20Raleigh%0A%20%20%20%20Renault%20-%20Elf%0A%20%20%20%20Syst%C3%A8me%20U%0A%20%20%20%20Coop%20-%20Hoonved%20-%20Rossin%0A%20%20%20%20Europ%20Decor%20-%20Boule%20d'Or%0A%20%20%20%20Kwantum%20Hallen%20-%20Decossol%0A%20%20%20%20La%20Vie%20Claire%20-%20Terraillon%0A%20%20%20%20Skil%20-%20Reydel%20-%20Sem%0A%20%20%20%20Splendor%20-%20Mondial%20Moquette%20-%20Marc%0A%20%20%20%20Sporting%20-%20Raposeira%0A%20%20%20%20La%20Vie%20Claire%0A%20%20%20%20Seat%20-%20Orbea%0A%20%20%20%20Caf%C3%A9%20de%20Colombia%20-%20Varta%20-%20Mavic%0A%20%20%20%20Hitachi%20-%20Splendor%20-%20Sunair%0A%20%20%20%20Kwantum%20-%20Decosol%0A%20%20%20%20Lotto%0A%20%20%20%20Santini%20-%20Krups%20-%20Conti%20-%20Galli%0A%20%20%20%20Skil%20-%20Sem%0A%20%20%20%20T%C3%B6nissteiner%20-%20TW%20Rock%20-%20BASF%20-%20Humo%0A%20%20%20%20Verandalux%20-%20Dries%20-%20Nissan%0A%20%20%20%20Zor%20-%20Gemeaz%0A%20%20%20%20Fagor%0A%20%20%20%20Carrera%20Jeans%20-%20Vagabond%0A%20%20%20%207-Eleven%0A%20%20%20%20Caf%C3%A9%20de%20Colombia%20-%20Varta%0A%20%20%20%20Gis%20Gelati%0A%20%20%20%20Hitachi%20-%20Marc%20-%20Splendor%0A%20%20%20%20Kwantum%20Hallen%20-%20Decosol%0A%20%20%20%20Lotto%20-%20Emerxil%20-%20Merckx%0A%20%20%20%20Malvor%20-%20Bottecchia%0A%20%20%20%20Panasonic%0A%20%20%20%20PDM%20-%20Concorde%0A%20%20%20%20Peugeot%20-%20Shell%0A%20%20%20%20Postobon%0A%20%20%20%20RMO%0A%20%20%20%20Zor%20-%20BH%0A%20%20%20%20BH%0A%20%20%20%20Caf%C3%A9%20de%20Colombia%0A%20%20%20%20Panasonic%20-%20Isostar%0A%20%20%20%20Z%20-%20Peugeot%0A%20%20%20%207%20Eleven%20-%20Hoonved%0A%20%20%20%20Caja%20Rural%20-%20Orbea%0A%20%20%20%20Manzana%20Postob%C3%B3n%0A%20%20%20%20ANC%20-%20Halfords%0A%20%20%20%20Del%20Tongo%20-%20Colnago%0A%20%20%20%20Hitachi%20-%20Marc%20-%20Rossin%0A%20%20%20%20Kas%20-%20Miko%0A%20%20%20%20Lotto%20-%20Merckx%0A%20%20%20%20PDM%20-%20GIN%20MG%20-%20Ultima%20-%20Concorde%0A%20%20%20%20Reynolds%20-%20Seur%0A%20%20%20%20RMO%20-%20Meral%20-%20Mavic%0A%20%20%20%20Roland%20-%20Skala%20-%20Chiori%0A%20%20%20%20Superconfex%20-%20Kwantum%20-%20Yoko%0A%20%20%20%20Supermercati%20Brianzoli%20-%20Chateau%20d'Ax%0A%20%20%20%20Toshiba%20-%20La%20Vie%20Claire%0A%20%20%20%20Toshiba%0A%20%20%20%20Kelme%0A%20%20%20%20Chateau%20d'Ax%0A%20%20%20%20Fagor%20-%20MBK%0A%20%20%20%20Superconfex%20-%20Yoko%20-%20Opel%0A%20%20%20%20PDM%20-%20Ultima%20-%20Concorde%0A%20%20%20%20ADR%20-%20Mini%20Flat%20-%20IOC%0A%20%20%20%20Hitachi%20-%20Bosal%20-%20BCE%0A%20%20%20%20KAS%20-%20Canal%2010%20-%20Mavic%0A%20%20%20%20RMO%20-%20Liberia%20-%20Mavic%0A%20%20%20%20Sigma%20-%20Fina%0A%20%20%20%20Weinmann%20-%20La%20Suisse%0A%20%20%20%20Helvetia%20-%20La%20Suisse%0A%20%20%20%20RMO%20-%20Mavic%20-%20Liberia%0A%20%20%20%20TVM%0A%20%20%20%207%20Eleven%20-%20American%20Airlines%0A%20%20%20%20ADR%20-%20Agrigel%20-%20Bottecchia%0A%20%20%20%20Domex%20-%20Weinmann%20-%20Eddy%20Merckx%0A%20%20%20%20Histor%20-%20Sigma%20-%20Fina%0A%20%20%20%20Hitachi%20-%20VTM%0A%20%20%20%20Paternina%20-%20Marcos%20Equizabal%0A%20%20%20%20PDM%0A%20%20%20%20Reynolds%20-%20Banesto%0A%20%20%20%20Super%20U%0A%20%20%20%20O.N.C.E.%20-%20Look%20-%20Mavic%0A%20%20%20%20Buckler%20-%20Colnago%20-%20Decca%0A%20%20%20%20Panasonic%20-%20Sportlife%0A%20%20%20%20Histor%20-%20Sigma%0A%20%20%20%20Lotto%20-%20Super%20Club%0A%20%20%20%20Banesto%0A%20%20%20%20Ariostea%0A%20%20%20%20Alfa%20Lum%0A%20%20%20%20Castorama%20-%20Raleigh%0A%20%20%20%20Chateau%20d'Ax%20-%20Salotti%0A%20%20%20%20Postob%C3%B3n%20-%20Manzana%20-%20Ryalcao%0A%20%20%20%20Seur%0A%20%20%20%20TVM%20-%20Toko%0A%20%20%20%20Weinmann%20-%20SMM%20-%20Ulster%0A%20%20%20%20Z%20-%20Tomasso%0A%20%20%20%20Motorola%0A%20%20%20%20Castorama%0A%20%20%20%20Amaya%20Seguros%0A%20%20%20%20CLAS%20-%20Cajastur%0A%20%20%20%20Gatorade%20-%20Chateau%20d'Ax%0A%20%20%20%20R.M.O.%0A%20%20%20%20TVM%20-%20Sanyo%0A%20%20%20%20Carrera%20Jeans%20-%20Tassoni%0A%20%20%20%20Tonton%20Tapis%20-%20GB%0A%20%20%20%20Weinmann%20-%20Eddy%20Merckx%0A%20%20%20%20Z-Peugeot%0A%20%20%20%20Team%20Telekom%0A%20%20%20%20GB-MG%20Maglificio%0A%20%20%20%20Lotto%20-%20Mavic%0A%20%20%20%20Lotus%20-%20Festina%0A%20%20%20%20Ryalcao-Postobon%0A%20%20%20%20Tulip%20Computers%20-%20Koga%0A%20%20%20%20Z%20-%20Lemond%0A%20%20%20%20Festina%20-%20Lotus%0A%20%20%20%20Castorama%20-%20MaxiSport%0A%20%20%20%20Novemail%20-%20Histor%0A%20%20%20%20TVM%20-%20Bison%20Kit%0A%20%20%20%20Wordperfect%20-%20Colnago%20-%20Decca%0A%20%20%20%20Chazal%20-%20Vetta%20-%20MBK%0A%20%20%20%20GAN%20-%20Lemond%0A%20%20%20%20Gatorade%0A%20%20%20%20Lampre-Polti%0A%20%20%20%20Lotto%20-%20Caloi%0A%20%20%20%20Amaya%20-%20Seguros%0A%20%20%20%20Gewiss%20-%20Ballan%0A%20%20%20%20Chazal%20-%20MBK%20-%20K%C3%B6nig%0A%20%20%20%20Lampre-Panaria%0A%20%20%20%20GAN%0A%20%20%20%20Mercatone%20Uno%20-%20Bianchi%0A%20%20%20%20GB-MG%20Maglificio%20-%20Bianchi%0A%20%20%20%20Lotto%20-%20Vetta%20-%20Caloi%0A%20%20%20%20Mapei%20-%20Clas%0A%20%20%20%20Polti%20-%20Vaporetto%0A%20%20%20%20O.N.C.E.%0A%20%20%20%20Mapei-GB%0A%20%20%20%20MG%20Maglificio%20-%20Technogym%0A%20%20%20%20Lotto%20-%20Isoglass%0A%20%20%20%20Mercatone%20Uno%0A%20%20%20%20AKI-Gipiemme%0A%20%20%20%20Brescialat%0A%20%20%20%20Novell%20Software%20-%20Decca%0A%20%20%20%20Polti%20-%20Granarolo%20-%20Santini%0A%20%20%20%20Team%20Deutsche%20Telekom%0A%20%20%20%20Rabobank%20ProTeam%0A%20%20%20%20Polti%0A%20%20%20%20TVM%20-%20Farm%20Frites%0A%20%20%20%20Roslotto-ZG%20Mobili%0A%20%20%20%20Agrigel-Lacreause-Fenioux%0A%20%20%20%20Aubervilliers93-Peugeot%0A%20%20%20%20Brescialat%20-%20Oyster%0A%20%20%20%20Carrera%20Jeans%0A%20%20%20%20Kelme-Artiach-Costa%20Blanca%0A%20%20%20%20Refin%20-%20Mobilvetta%0A%20%20%20%20Saeco%20-%20AS%20Juvenes%20San%20Marino%0A%20%20%20%20Panaria%20-%20Vinavil%0A%20%20%20%20Cofidis%0A%20%20%20%20Kelme%20-%20Costa%20Blanca%0A%20%20%20%20La%20Fran%C3%A7aise%20des%20Jeux%0A%20%20%20%20US%20Postal%20Service%0A%20%20%20%20BigMat%20-%20Auber%2093%0A%20%20%20%20Lotto%20-%20Mobistar%0A%20%20%20%20Saeco%0A%20%20%20%20Batik%20-%20Del%20Monte%0A%20%20%20%20Casino%20-%20C'est%20votre%20%C3%A9quipe%0A%20%20%20%20La%20Mutuelle%20de%20Seine%20et%20Marne%0A%20%20%20%20Casino%20-%20AG2R%0A%20%20%20%20Asics%20-%20CGA%0A%20%20%20%20Mapei%20-%20Bricobi%0A%20%20%20%20Riso%20Scotti%20-%20MG%0A%20%20%20%20Saeco%20Macchine%20da%20Caffe'%20-%20Cannondale%0A%20%20%20%20Vitalicio%20Seguros%0A%20%20%20%20Cr%C3%A9dit%20Agricole%0A%20%20%20%20Mapei%20-%20Quickstep%0A%20%20%20%20O.N.C.E.%20-%20Deutsche%20Bank%0A%20%20%20%20Cantina%20Tollo%20-%20Alexia%20Alluminio%0A%20%20%20%20Lampre%20-%20Daikin%20-%20Colnago%0A%20%20%20%20Saeco%20-%20Cannondale%0A%20%20%20%20Vitalicio%20Seguros%20-%20Grupo%20Generali%0A%20%20%20%20Lotto%20-%20Adecco%0A%20%20%20%20AG2R%20Prevoyance%0A%20%20%20%20Bonjour%20-%20Toupargel%0A%20%20%20%20Farm%20Frites%0A%20%20%20%20MemoryCard%20-%20Jack%20%26%20Jones%0A%20%20%20%20Mercatone%20Uno%20-%20Albacom%0A%20%20%20%20Vini%20Caldirola%20-%20Sidermec%0A%20%20%20%20AG2R%20Pr%C3%A9voyance%0A%20%20%20%20Fassa%20Bortolo%0A%20%20%20%20Euskaltel%20-%20Euskadi%0A%20%20%20%20Jean%20Delatour%0A%20%20%20%20O.N.C.E.%20-%20Eroski%0A%20%20%20%20Bonjour%0A%20%20%20%20CSC%20ProTeam%20-%20Tiscali%0A%20%20%20%20Domo%20-%20Farm%20Frites%0A%20%20%20%20Lampre%20-%20Daikin%0A%20%20%20%20iBanesto.com%0A%20%20%20%20Festina%0A%20%20%20%20Alessio%0A%20%20%20%20Tacconi%20Sport%0A%20%20%20%20Gerolsteiner%0A%20%20%20%20Brioches%20La%20Boulang%C3%A8re%0A%20%20%20%20Fdjeux.com%0A%20%20%20%20Lotto%20-%20Domo%0A%20%20%20%20Quickstep%20-%20Davitamon%0A%20%20%20%20Team%20CSC%0A%20%20%20%20Team%20Bianchi%0A%20%20%20%20Vini%20Calderola%20-%20So.di%0A%20%20%20%20Cofidis%2C%20le%20Cr%C3%A9dit%20par%20T%C3%A9l%C3%A9phone%0A%20%20%20%20Phonak%20Hearing%20Systems%0A%20%20%20%20T-Mobile%20Team%0A%20%20%20%20Domina%20Vacanze%0A%20%20%20%20Alessio%20-%20Bianchi%0A%20%20%20%20Illes%20Balears%20-%20Banesto%0A%20%20%20%20Liberty%20Seguros%0A%20%20%20%20R.a.g.t%20Semence%20-%20Mg%20Rover%0A%20%20%20%20Quickstep%20-%20Innergetic%0A%20%20%20%20Fran%C3%A7aise%20des%20Jeux%0A%20%20%20%20Liquigas%0A%20%20%20%20Bouygues%20Telecom%0A%20%20%20%20Discovery%20Channel%0A%20%20%20%20Davitamon%20-%20Lotto%0A%20%20%20%20Saunier%20Duval%20-%20Prodir%0A%20%20%20%20CSC%20ProTeam%0A%20%20%20%20Illes%20Balears%20-%20Caisse%20d'Epargne%0A%20%20%20%20Lampre-Caffita%0A%20%20%20%20Liberty%20Seguros%20-%20W%C3%BCrth%20Team%0A%20%20%20%20Agritubel%0A%20%20%20%20Lampre-Fondital%0A%20%20%20%20Team%20Milram%0A%20%20%20%20Caisse%20d'Epargne%20-%20Illes%20Balears%0A%20%20%20%20Caisse%20d'Epargne%0A%20%20%20%20Barloworld%0A%20%20%20%20Astana%0A%20%20%20%20Predictor%20-%20Lotto%0A%20%20%20%20Saunier%20Duval%0A%20%20%20%20AG2R%20La%20Mondiale%0A%20%20%20%20Milram%0A%20%20%20%20Silence%20-%20Lotto%0A%20%20%20%20Lampre%0A%20%20%20%20Scott%20-%20American%20Beef%0A%20%20%20%20Team%20Columbia%0A%20%20%20%20Team%20Garmin%20-%20Chipotle%0A%20%20%20%20Team%20Katusha%0A%20%20%20%20Cofidis%2C%20le%20Cr%C3%A9dit%20en%20Ligne%0A%20%20%20%20Bbox%20Bouygues%20Telecom%0A%20%20%20%20Saxo%20Bank%0A%20%20%20%20Cervelo%20Test%20Team%0A%20%20%20%20Lampre%20-%20NGC%0A%20%20%20%20Skil%20-%20Shimano%0A%20%20%20%20Team%20Columbia%20-%20HTC%0A%20%20%20%20Team%20Garmin%20-%20Slipstream%0A%20%20%20%20BMC%20Racing%20Team%0A%20%20%20%20Sky%20Procycling%0A%20%20%20%20Omega%20Pharma-Lotto%0A%20%20%20%20RadioShack%0A%20%20%20%20Footon-Servetto%0A%20%20%20%20Francaise%20des%20Jeux%0A%20%20%20%20Lampre%20-%20Farnese%20Vini%0A%20%20%20%20Liquigas%20-%20Doimo%0A%20%20%20%20Team%20Garmin%20-%20Transitions%0A%20%20%20%20Team%20HTC%20-%20Columbia%0A%20%20%20%20Movistar%20Team%0A%20%20%20%20Team%20Europcar%0A%20%20%20%20Vacansoleil%20-%20DCM%0A%20%20%20%20Lampre%20-%20ISD%0A%20%20%20%20Liquigas%20-%20Cannondale%0A%20%20%20%20Rabobank%20Cycling%20Team%0A%20%20%20%20Saur%20-%20Sojasun%0A%20%20%20%20FDJ%0A%20%20%20%20HTC%20-%20High%20Road%0A%20%20%20%20Leopard%20Trek%0A%20%20%20%20Pro%20Team%20Astana%0A%20%20%20%20Quickstep%20Cycling%20Team%0A%20%20%20%20Saxo%20Bank%20-%20Sungard%0A%20%20%20%20Team%20Garmin%20-%20Cerv%C3%A9lo%0A%20%20%20%20Astana%20Pro%20Team%0A%20%20%20%20Orica%20GreenEDGE%0A%20%20%20%20Garmin%20Sharp%0A%20%20%20%20Omega%20Pharma%20-%20Quick-Step%0A%20%20%20%20Lotto%20Belisol%20Team%0A%20%20%20%20Argos%20-%20Shimano%0A%20%20%20%20FDJ%20-%20BigMat%0A%20%20%20%20RadioShack%20-%20Nissan%0A%20%20%20%20Team%20Saxo%20Bank%20-%20Tinkoff%20Bank%0A%20%20%20%20Cofidis%2C%20Solutions%20Cr%C3%A9dits%0A%20%20%20%20Lampre%20-%20Merida%0A%20%20%20%20Belkin-Pro%20Cycling%20Team%0A%20%20%20%20FDJ.fr%0A%20%20%20%20Cannondale%20Pro%20Cycling%20Team%0A%20%20%20%20RadioShack%20-%20Leopard%0A%20%20%20%20Sojasun%0A%20%20%20%20Team%20Argos%20-%20Shimano%0A%20%20%20%20Team%20Saxo%20-%20Tinkoff%0A%20%20%20%20Team%20Sky%0A%20%20%20%20IAM%20Cycling%0A%20%20%20%20Bretagne%20-%20S%C3%A9ch%C3%A9%20Environnement%0A%20%20%20%20Tinkoff%20-%20Saxo%0A%20%20%20%20Trek%20Factory%20Racing%0A%20%20%20%20Cannondale%0A%20%20%20%20Lotto%20Belisol%0A%20%20%20%20Team%20Giant%20-%20Shimano%0A%20%20%20%20Team%20NetApp%20%E2%80%93%20Endura%0A%20%20%20%20Lotto%20Soudal%0A%20%20%20%20Team%20LottoNL-Jumbo%0A%20%20%20%20Bora%20-%20Argon%2018%0A%20%20%20%20Etixx%20-%20Quick%20Step%0A%20%20%20%20Team%20Giant%20-%20Alpecin%0A%20%20%20%20MTN%20-%20Qhubeka%0A%20%20%20%20Team%20Cannondale%20-%20Garmin%0A%20%20%20%20Team%20Dimension%20Data%0A%20%20%20%20Trek%20-%20Segafredo%0A%20%20%20%20Direct%20Energie%0A%20%20%20%20Cannondale-Drapac%20Pro%20Cycling%20Team%0A%20%20%20%20Fortuneo%20-%20Vital%20Concept%0A%20%20%20%20ORICA-BikeExchange%0A%20%20%20%20Tinkoff%0A%20%20%20%20BORA%20-%20hansgrohe%0A%20%20%20%20Team%20Katusha%20Alpecin%0A%20%20%20%20Team%20Sunweb%0A%20%20%20%20Bahrain%20Merida%20Pro%20Cycling%20Team%0A%20%20%20%20Quick-Step%20Floors%0A%20%20%20%20Wanty%20-%20Groupe%20Gobert%0A%20%20%20%20Fortuneo%20-%20Oscaro%0A%20%20%20%20ORICA-Scott%0A%20%20%20%20UAE%20Team%20Emirates%0A%20%20%20%20Groupama%20-%20FDJ%0A%20%20%20%20Mitchelton-Scott%0A%20%20%20%20UAE-Team%20Emirates%0A%20%20%20%20Team%20EF%20Education%20First-Drapac%20p%2Fb%20Cannondale%0A%20%20%20%20Team%20Fortuneo%20-%20Samsic%0A%20%20%20%20Bahrain%20Merida%0A%20%20%20%20CCC%20Team%0A%20%20%20%20Deceuninck%20-%20Quick%20Step%0A%20%20%20%20EF%20Education%20First%0A%20%20%20%20Team%20Ark%C3%A9a%20Samsic%0A%20%20%20%20Team%20INEOS%0A%20%20%20%20Team%20Jumbo-Visma%0A%20%20%20%20Team%20Total%20Direct%20Energie%0A%20%20%20%20Wanty%20-%20Gobert%20Cycling%20Team%0A%20%20%20%20%22%22%22%0A%0A%20%20%20%20teams%20%3D%20%5Bline.strip()%20for%20line%20in%20teams_text.strip().split('%5Cn')%20if%20line.strip()%5D%0A%0A%20%20%20%20formatted_output%20%3D%20%7Bteam%3A%20i%20*%2040%20for%20i%2C%20team%20in%20enumerate(teams%2C%201)%7D%0A%0A%20%20%20%20team_positions%20%3D%20formatted_output%0A%20%20%20%20def%20getY(team)%3A%0A%20%20%20%20%20%20%20%20return%20team_positions%5Bteam%5D%0A%20%20%20%20return%20getY%2C%20team_positions%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.callout(%0A%20%20%20%20%20%20%20%20%22The%20following%20graph%20should%20be%20viewed%20in%20full%20screen.%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22info%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%3Cstyle%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20polyline.fhds6%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke%3A%20darkgreen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke-width%3A%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke-opacity%3A%200.25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20stroke-opacity%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20svg%3Ahover%20polyline.fhds6%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke%3A%20darkgreen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke-opacity%3A%200.05%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20svg%3Ahover%20polyline.fhds6%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke%3A%20red%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke-width%3A%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke-opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20text.fhds6%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font%3A%2012px%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%20black%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dominant-baseline%3A%20middle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-anchor%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20line.fhds6%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke%3A%20black%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke-width%3A%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stroke-opacity%3A%200.2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df%2C%20getY%2C%20mo%2C%20pd%2C%20team_positions)%3A%0A%0A%20%20%20%20def%20polyline_with_title(points%2C%20title_text%2C%20css_class%3D%22fhds6%22)%3A%0A%20%20%20%20%20%20%20%20points_str%20%3D%20%22%20%22.join(f%22%7Bx%7D%2C%7By%7D%22%20for%20x%2C%20y%20in%20points)%0A%20%20%20%20%20%20%20%20return%20f'%3Cpolyline%20class%3D%22%7Bcss_class%7D%22%20points%3D%22%7Bpoints_str%7D%22%3E%3Ctitle%3E%7Btitle_text%7D%3C%2Ftitle%3E%3C%2Fpolyline%3E'%0A%0A%0A%20%20%20%20_polylines%20%3D%20%5B%5D%0A%20%20%20%20for%20i%2C%20row%20in%20df.iloc%5B1%3A%5D.iterrows()%3A%0A%20%20%20%20%20%20%20%20rider_name%20%3D%20row.iloc%5B0%5D%0A%20%20%20%20%20%20%20%20_path%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20valid_teams%20%3D%20%5B%5D%20%20%0A%20%20%20%20%20%20%20%20for%20j%2C%20team%20in%20enumerate(row.iloc%5B1%3A%5D)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20pd.isnull(team)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20team%20not%20in%20team_positions%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%20%20%20%20%20%20%20%20%20%20%20%20valid_teams.append(team)%0A%20%20%20%20%20%20%20%20%20%20%20%20y_coord%20%3D%20getY(team)%0A%20%20%20%20%20%20%20%20%20%20%20%20_path.append((j%20*%2033%20%2B%20180%2C%20y_coord))%0A%20%20%20%20%20%20%20%20%20%20%20%20_path.append((j%20*%2033%20%2B%20190%2C%20y_coord))%0A%20%20%20%20%20%20%20%20if%20_path%20and%20valid_teams%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20start_team%20%3D%20valid_teams%5B0%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20end_team%20%3D%20valid_teams%5B-1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip_text%20%3D%20f%22Rider%3A%20%7Brider_name%7D%5CnLeaves%20%7Bstart_team%7D%5CnJoins%20%7Bend_team%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20_polylines.append(polyline_with_title(_path%2C%20tooltip_text%2C%20css_class%3D%22fhds6%22))%0A%0A%0A%20%20%20%20_team_labels%20%3D%20%5B%5D%0A%20%20%20%20for%20team%20in%20team_positions%3A%0A%20%20%20%20%20%20%20%20y%20%3D%20getY(team)%0A%20%20%20%20%20%20%20%20team_text%20%3D%20f'%3Ctext%20x%3D%221%22%20y%3D%22%7By%7D%22%20class%3D%22fhds6%22%3E%7Bteam%7D%3C%2Ftext%3E'%0A%20%20%20%20%20%20%20%20team_line%20%3D%20f'%3Cline%20x1%3D%221%22%20x2%3D%221900%22%20y1%3D%22%7By%7D%22%20y2%3D%22%7By%7D%22%20class%3D%22fhds6%22%20%2F%3E'%0A%20%20%20%20%20%20%20%20_team_labels.append(team_text)%0A%20%20%20%20%20%20%20%20_team_labels.append(team_line)%0A%0A%20%20%20%20_year_labels%20%3D%20%5B%5D%0A%20%20%20%20for%20j%2C%20year%20in%20enumerate(df.columns%5B1%3A%5D)%3A%0A%20%20%20%20%20%20%20%20x_coord%20%3D%20j%20*%2033%20%2B%20180%0A%20%20%20%20%20%20%20%20y_coord%20%3D%2020%20%0A%20%20%20%20%20%20%20%20year_text%20%3D%20f'%3Ctext%20x%3D%22%7Bx_coord%7D%22%20y%3D%22%7By_coord%7D%22%20class%3D%22fhds6%22%3E%7Bstr(year)%7D%3C%2Ftext%3E'%0A%20%20%20%20%20%20%20%20_year_labels.append(year_text)%0A%0A%0A%20%20%20%20svg_content%20%3D%20%22%5Cn%22.join(_polylines%20%2B%20_team_labels%20%2B%20_year_labels)%0A%0A%20%20%20%20svg_markup%20%3D%20f'''%0A%20%20%20%20%3Csvg%20width%3D%22200000%22%20height%3D%2217050%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%7Bsvg_content%7D%0A%20%20%20%20%3C%2Fsvg%3E%0A%20%20%20%20'''%0A%0A%20%20%20%20mo.Html(svg_markup)%0A%0A%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A</marimo-code></head>
  <body>
    <div id="root"></div>
  </body>
</html>
